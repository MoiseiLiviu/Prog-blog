<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>UVa 507 - Jill Rides Again | ML prog-blog</title>
<meta name="generator" content="Jekyll v4.1.0" />
<meta property="og:title" content="UVa 507 - Jill Rides Again" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="My code:" />
<meta property="og:description" content="My code:" />
<link rel="canonical" href="/2020/06/MaxRangeSum.html" />
<meta property="og:url" content="/2020/06/MaxRangeSum.html" />
<meta property="og:site_name" content="ML prog-blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-10T00:00:00+03:00" />
<script type="application/ld+json">
{"headline":"UVa 507 - Jill Rides Again","dateModified":"2020-06-10T00:00:00+03:00","datePublished":"2020-06-10T00:00:00+03:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/2020/06/MaxRangeSum.html"},"url":"/2020/06/MaxRangeSum.html","description":"My code:","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="ML prog-blog" /></head>
<body><header class="site-header">
  <link rel="icon" type="image/gif" href="https://img.icons8.com/fluent/48/000000/source-code.png" />
  <div class="wrapp"><a class="site-title" href="/"><img style="height: 32px;width: 32px;margin-right: 15px;" src="https://img.icons8.com/dusk/64/000000/hacker.png"/>ML prog-blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger" style="margin-right: 40px;">
          
            <a class="page-link" href="/about/">About</a>
            <a class="page-link" href="/contact/">Contact</a>
            <a class="page-link" href="https://github.com/MoiseiLiviu?tab=repositories">Latest projects</a>
            <a class="page-link" href="/categories/">Categories</a>
        </div>
      </nav></div>
</header>

<link rel="stylesheet" type="text/css" href="/css/style.css"><main class="page-content" aria-label="Content">
      <div class="contents" style="margin-left: auto;margin-right: auto;">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting" style="margin-top: 100px;">

  <header class="post-header">
    <h1 class="post-title p-name" style="margin-left: auto;margin-right: auto;margin-bottom: 15px;" itemprop="name headline">UVa 507 - Jill Rides Again</h1>
    
    <a href="/categories/Dynamic_Programming" style="padding: 8px;background-color: whitesmoke;border-radius: 3px;margin-right: 15px;">Dynamic_Programming</a>
    
    <p class="post-meta" style="margin-top: 20px;"><time class="dt-published" datetime="2020-06-10T00:00:00+03:00" itemprop="datePublished">
        Jun 10, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody" style="display: flex;flex-direction: column;">
    <span style='font-size:30px;font-weight:bold;margin-bottom: 12px;'>Problem link:</span>
    <a style='margin-bottom: 20px;' href=https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=448>https://onlinejudge.org/index.php?option=com_onlinejudge&Itemid=8&category=24&page=show_problem&problem=448</a>   
    <span style='font-size:30px;font-weight:bold;margin-bottom: 12px;'>Problem statement:</span>
    <p class="post-text">Jill likes to ride her bicycle, but since the pretty city of Greenhills where she lives has grown, Jill often uses the excellent public bus system for part of her journey. She has a folding bicycle which she carries with her when she uses the bus for the  rst part of her trip. When the bus reaches some pleasant part of the city, Jill gets off and rides her bicycle. She follows the bus route until she reaches her destination or she comes to a part of the city she does not like. In the latter event she will board the bus to finish her trip.Through years of experience, Jill has rated each road on an integer scale of \niceness." Positive niceness values indicate roads Jill likes; negative values are used for roads she does not like. There are not zero values. Jill plans where to leave the bus and start bicycling, as well as where to stop bicycling and re-join the bus, so that the sum of niceness values of the roads she bicycles on is maximized. This means that she will sometimes cycle along a road she does not like, provided that it joins up two other parts of her journey involving roads she likes enough to compensate. It may be that no part of the route is suitable for cycling so that Jill takes the bus for its entire route. Conversely, it may be that the whole route is so nice Jill will not use the bus at all.Since there are many different bus routes, each with several stops at which Jill could leave or enter the bus, she feels that a computer program could help her identify the best part to cycle for each bus route.</p>
    <span style='font-size:30px;font-weight:bold;margin-bottom: 12px;'>Input:</span>
    <p class="post-text">The input  le contains information on several bus routes. The first line of the  le is a single integer b representing the number of route descriptions in the file.  The identifier for each route (r) is the sequence number within the data file, 1 <= r <= b. Each route description begins with the number of stops on the route :an integers, 2 <= s <= 20;000 on a line by itself. The number of stops is followed by s - 1 lines, each line i(1 <= i < s) is an integer ni representing Jill's assessment of the niceness of the road between the two stops i and i+1.</p>
    <span style='font-size:30px;font-weight:bold;margin-bottom: 12px;'>Output:</span>
    <p class="post-text">For each route r in the input file, your program should identify the beginning bus stop i and the ending bus stop j that identify the segment of the route which yields the maximal sum of niceness,m=ni+ni+1+...+nj-1. If more than one segment is maximally nice, choose the one with the longest cycle ride (largest j - i). To break ties in longest maximal segments, choose the segment that begins with the earliest stop (lowest i). For each route r in the input  file, print a line in the form:The nicest part of router is between stops i and j However, if the maximal sum is not positive, your program should print:Route r has no nice parts.</p>
    <span style='font-size:30px;font-weight:bold;margin-bottom: 12px;'>Explanation:</span>
    <p class="post-text">My idea was to create a var which holds the state of the current range.Starting from the first element of the array, we add the value to the state.If the var becomes negative on the i-th element of the array then there is no point in increasing the range but rather annul the state and start over from the element i+1.Each time the state becomes greater than the max variable, set the start index to the current range first index and the end index to the current index.If the max value and the current state are equal check whoose delta(diff between start and end) is bigger and choose that pair(according to the output indications).</p>
    <p><span style="font-size:20px;font-weight:bold">My code:</span></p>

<figure class="highlight"><pre><code class="language-c--" data-lang="c++"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="code"><pre><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="n">tc</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">N</span><span class="p">;</span>
	<span class="k">while</span><span class="p">(</span><span class="n">N</span><span class="o">--</span><span class="p">){</span>
		<span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">R</span><span class="p">;</span>
		<span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">stops</span><span class="p">(</span><span class="n">R</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
		<span class="k">for</span><span class="p">(</span><span class="k">auto</span> <span class="o">&amp;</span><span class="n">cell</span> <span class="o">:</span> <span class="n">stops</span><span class="p">)</span><span class="n">cin</span><span class="o">&gt;&gt;</span><span class="n">cell</span><span class="p">;</span>
		<span class="kt">int</span> <span class="n">start</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">end</span> <span class="o">=</span> <span class="n">R</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="n">max</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">currStart</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">R</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
				<span class="n">counter</span><span class="o">+=</span><span class="n">stops</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
				<span class="k">if</span><span class="p">(</span><span class="n">counter</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">){</span>
					<span class="n">currStart</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
					<span class="n">counter</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">counter</span><span class="o">&gt;</span><span class="n">max</span><span class="p">){</span>
					<span class="n">start</span> <span class="o">=</span> <span class="n">currStart</span><span class="p">;</span>
					<span class="n">end</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
					<span class="n">max</span> <span class="o">=</span> <span class="n">counter</span><span class="p">;</span>
					<span class="p">}</span>
				<span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">counter</span><span class="o">==</span><span class="n">max</span><span class="p">){</span>
					<span class="k">if</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="o">&lt;</span><span class="n">i</span><span class="o">-</span><span class="n">currStart</span><span class="p">){</span>
						<span class="n">end</span><span class="o">=</span><span class="n">i</span><span class="p">;</span>
						<span class="n">start</span> <span class="o">=</span> <span class="n">currStart</span><span class="p">;</span>
						<span class="p">}</span>
					<span class="p">}</span>
				<span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="n">max</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"The nicest part of route %d is between stops %d and %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="n">tc</span><span class="o">++</span><span class="p">,</span><span class="n">start</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">end</span><span class="o">+</span><span class="mi">2</span><span class="p">);</span>
                <span class="k">else</span> <span class="n">printf</span><span class="p">(</span><span class="s">"Route %d has no nice parts"</span><span class="p">,</span><span class="n">tc</span><span class="o">++</span><span class="p">);</span>
			<span class="p">}</span>	
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>


  </div><a class="u-url" href="/2020/06/MaxRangeSum.html" hidden></a>
</article>
<link href="/css/style.css" rel="stylesheet" >
      </div>
    </main><footer id="footer">
    <p>Copyright &copy; 2020 <a href="/">ML prog-blog</a> &nbsp;
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
            <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"/>
        </a>
    </p>
    <p>Powered by
        <a href="https://github.com/jekyll/jekyll">Jekyll</a> 
    </p>
    <p>Last updated 2020/05/30</p>
    <p id="footer-social-links">
        <a href="">
            <span class="px-2 fab fa-lg fa-twitter"></span>
        </a>
        <a href="">
            <span class="px-2 fab fa-lg fa-github"></span>
        </a>
        <a href="">
            <span class="px-2 fab fa-lg fa-linkedin"></span>
        </a>
    </p>
</footer></body>

</html>